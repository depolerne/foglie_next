{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { request } from \"graphql-request\";\nimport capitalize from \"lodash/capitalize\";\nimport { GRAPHQL_BASE_URL } from \"../graphql/apollo-client\";\nexport function categoryFromJson(json, lang) {\n  var lng = capitalize(lang);\n  return {\n    id: json.id.toString(),\n    name: json[\"name\".concat(lng)],\n    children: json.children ? json.children.map(function (j) {\n      return categoryFromJson(j, lang);\n    }) : []\n  };\n}\nexport var CategoryService = {\n  getManyQuery: function getManyQuery(_lang) {\n    var lang = capitalize(_lang);\n    return \"\\n      {\\n        categories {\\n          id\\n          name\".concat(lang, \"\\n          children {\\n            id\\n            name\").concat(lang, \"\\n          }\\n        }\\n      }\\n    \");\n  },\n  getMany: function getMany(query, lang) {\n    var res;\n    return _regeneratorRuntime.async(function getMany$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(request(GRAPHQL_BASE_URL, query));\n\n          case 2:\n            res = _context.sent;\n            return _context.abrupt(\"return\", res.categories.map(function (j) {\n              return categoryFromJson(j, lang);\n            }));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}