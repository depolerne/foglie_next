{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  @media (max-width: \", \") {\\n    display: none;\\n  }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-bottom: 64px;\\n  min-height: 500px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-bottom: 104px;\\n  @media (max-width: \", \") {\\n    margin-bottom: 64px;\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-bottom: 0;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  position: relative;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { css } from \"@emotion/core\";\nimport styled from \"@emotion/styled\";\nimport useTranslation from \"next-translate/useTranslation\";\nimport { default as ErrorComponent } from \"next/error\";\nimport useSWR, { useSWRPages } from \"swr\";\nimport { BackgroundImage } from \"../components/BackgroundImage\";\nimport BlogList from \"../components/blog/blog-list\";\nimport Instagram from \"../components/blog/instagram\";\nimport { Container } from \"../components/container\";\nimport Layout from \"../components/layout\";\nimport { LoadMore } from \"../components/LoadMore\";\nimport { PageTitle } from \"../components/PageTitle\";\nimport { BlogService } from \"../services/blog-service\";\nimport { theme } from \"../theme/theme\";\nvar container = css(_templateObject());\nvar StyledTitle = styled(PageTitle)(_templateObject2());\nvar blogListContainer = css(_templateObject3(), theme.breakpoints.md);\nvar blogList = css(_templateObject4());\nvar instagramContainer = css(_templateObject5(), theme.breakpoints.md);\nvar DEFAULT_LIMIT = 6;\n\nvar Blog = function Blog() {\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      lang = _useTranslation.lang;\n\n  var _useSWRPages = useSWRPages(\"posts\", function (_ref) {\n    var offset = _ref.offset,\n        withSWR = _ref.withSWR;\n    var query = BlogService.getManyQuery({\n      lang: lang,\n      skip: offset !== null && offset !== void 0 ? offset : 0,\n      take: DEFAULT_LIMIT\n    });\n\n    var _withSWR = withSWR(useSWR(query, function () {\n      return BlogService.getMany(query, lang);\n    })),\n        data = _withSWR.data,\n        error = _withSWR.error;\n\n    if (error) return __jsx(ErrorComponent, {\n      title: error === null || error === void 0 ? void 0 : error.message,\n      statusCode: 404\n    });\n    if (!data) return null;\n    return __jsx(BlogList, {\n      posts: data.data\n    });\n  }, function (SWR, index) {\n    if (SWR.data) {\n      if (SWR.data.total - DEFAULT_LIMIT * SWR.data.page <= 0) return null;\n    }\n\n    return (index + 1) * DEFAULT_LIMIT;\n  }),\n      pages = _useSWRPages.pages,\n      isLoadingMore = _useSWRPages.isLoadingMore,\n      isReachingEnd = _useSWRPages.isReachingEnd,\n      loadMore = _useSWRPages.loadMore;\n\n  return __jsx(Layout, {\n    description: \"Blog page where are news and items\",\n    title: t(\"blog:title\")\n  }, __jsx(\"div\", {\n    css: container\n  }, __jsx(BackgroundImage, null, __jsx(\"source\", {\n    srcSet: \"/static/blog-bg.webp\",\n    type: \"image/webp\"\n  }), __jsx(\"source\", {\n    srcSet: \"/static/blog-bg.png\",\n    type: \"image/png\"\n  }), __jsx(\"img\", {\n    src: \"/static/blog-bg.png\",\n    alt: \"Background image\"\n  })), __jsx(Container, {\n    css: blogListContainer\n  }, __jsx(StyledTitle, {\n    subtitle: t(\"blog:subtitle\"),\n    title: t(\"blog:title\")\n  }), __jsx(\"div\", {\n    css: blogList\n  }, pages), !isReachingEnd && __jsx(LoadMore, {\n    onClick: loadMore,\n    disabled: isLoadingMore,\n    title: t(\"blog:more\")\n  })), __jsx(\"div\", {\n    css: instagramContainer\n  }, __jsx(Instagram, null))));\n};\n\nexport var __N_SSG = true;\nexport default Blog;","map":null,"metadata":{},"sourceType":"module"}