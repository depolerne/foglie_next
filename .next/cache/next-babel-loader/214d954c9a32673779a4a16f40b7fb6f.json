{"ast":null,"code":"import { request } from \"graphql-request\";\nimport capitalize from \"lodash/capitalize\";\nimport { GRAPHQL_BASE_URL } from \"../graphql/apollo-client\";\nexport function categoryFromJson(json, lang) {\n  const lng = capitalize(lang);\n  return {\n    id: json.id.toString(),\n    name: json[`name${lng}`],\n    children: json.children ? json.children.map(j => categoryFromJson(j, lang)) : []\n  };\n}\nexport const CategoryService = {\n  getManyQuery: _lang => {\n    const lang = capitalize(_lang);\n    return `\n      {\n        categories {\n          id\n          name${lang}\n          children {\n            id\n            name${lang}\n          }\n        }\n      }\n    `;\n  },\n  getMany: async (query, lang) => {\n    const res = await request(GRAPHQL_BASE_URL, query);\n    return res.categories.map(j => categoryFromJson(j, lang));\n  }\n};","map":null,"metadata":{},"sourceType":"module"}